<!DOCTYPE html>
<html>
<head>
	<title>write</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="./favicon.png" />
	<link href='https://fonts.googleapis.com/css?family=Marcellus+SC|Open+Sans&subset=latin,latin-ext,vietnamese,cyrillic,cyrillic-ext,greek-ext,greek' rel='stylesheet' type='text/css'>
	<link href='style.css' rel='stylesheet' type='text/css'>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/randomcolor/0.1.1/randomColor.min.js'></script>
</head>
<body onload="loadFromLocalStorage()">
	<div class="more">
		+
		<div class="more2">
			<span id="write"><a href="https://github.com/damianzolkos/write">write</a></span>
			<span id="version">version: 1.0</span>
			<span class="version">Favicon made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a><br>from <a href="https://www.flaticon.com/" title="Flaticon"> www.flaticon.com</a><br><br></span>
		</div>
	</div>

	<p id="h1">
		<input id="title" class="title" name="title" value="write"/>
	</p>

	<div id="hr"></div>
    <textarea 
		id="text"
		placeholder="The simplest text editor ever! Just start typing."
		onkeyup="stringCount('text','length');"
		autofocus="true"
		class="text"
		name="text">
	</textarea>
	<span id="length"></span>

	<a href="https://damianzolkos.github.io">
		<div class="link">
			&copy DÅ»
		</div>
	</a>

<script>
	const tx = document.getElementsByTagName("textarea");
	for (let i = 0; i < tx.length; i++) {
		tx[i].setAttribute("style", "height:" + (tx[i].scrollHeight) + "px;overflow-y:hidden;");
		tx[i].addEventListener("input", onInput, false);
	}

	function onInput() {
		this.style.height = "auto";
		this.style.height = (this.scrollHeight) + "px";
		saveToLocalStorage();
	}

	function stringCount(inputId, outputId) {
		document.getElementById(""+outputId+"").innerHTML = eval("document.getElementsByName('"+inputId+"')[0].value.length"); 
	}

	function saveToLocalStorage() {
		let content = document.getElementById("text").value;
		let title = document.getElementById("title").value;
		localStorage.setItem("content", content);
		localStorage.setItem("title", title);
	}
	
	function loadFromLocalStorage() {
		document.getElementById("text").value = localStorage.getItem("content");
		document.getElementById("title").value = localStorage.getItem("title");
	}
</script>

</body>
</html>